\section{Preliminaries}
\label{sec:preliminaries}
\todo[inline]{this section contains all the required notation but will just be written up nicely in the final version}

\todo[inline]{formulas}

The language of a first-order formula $A$ is denoted by $\Lang(A)$ and contains all predicate, constant and function symbols that occur in $A$.
For formulas $A_1, \ldots, A_n$, $\Lang(A_1, \ldots, A_n) = \bigcup_{1\varleq i \varleq n} \Lang(A_i)$.
These are also referred to as the \emph{\mbox{non-logical} symbols} of $A$.
The \emph{logical symbols} on the other hand include all logical connectives, quantifiers, the equality symbol ($=$) as well as symbols denoting truth ($\top$) and falsity ($\bot$).
Among the usual symbols for the logical connectives $\land$ (conjunction), $\lor$ (disjunction), $\limpl$ (implication), we use $\semiff$ to indicate logical equivalence and $\liff$ for implication in both direction.
Syntactic equality is denoted by $\syneq$.

For a set of formulas $\Phi$, $\lnot \Phi$ denotes $\{\lnot A \mid A \in \Phi\}$.
With respect to a formula\nolinebreak{} $A$, an occurrence of a subformula $B$ of $A$ is said to occur positively if it occurs under an even number of negations and negatively otherwise.


\todo[inline]{terms}

A term $s$ is a subterm of a term $t$ if $s$ occurs in $t$. $s$ is a strict subterm of $t$ if $s$ is a subterm of $t$ and $s \neq t$. The superterm relation is the inverse of the subterm relation.


We denote $x_1, \ldots, x_n$ by $\bar x$.


\todo[inline]{model}
A model $M$ for a first-order language $\LangSym$ is a pair $(\domainofmodel{M}, \interpretation{M})$, where $\domainofmodel{M}$ is the domain and $\interpretation{M}$ the interpretation, which assigns a domain element to every constant symbol, a function $f : \domainofmodel{M}^n \mapsto \domainofmodel{M}$ to every function symbol of arity $n$ and an $n$-ary relation of domain elements to every predicate symbol of arity $n$ in the language $\LangSym$.

For formulas $\varphi$ with $\FV(\varphi) = \{x_1, \dots, x_n\}$ and a model $M$, $M\entails \varphi$ denotes $M \entails \forall x_1 \quantifierdots \forall x_n \varphi$.
In instances where an explicit assignment $\alpha$ to the free variables is desired,
we write $M_\alpha \entails \varphi$ 
to signify that $M$ entails the formula $\varphi$ where the free variable assignment concurs with $\alpha$ and the free variables not assigned by $\alpha$ are universally quantified.

\todo[inline]{formulas and terms}
The length of a term or formula $\varphi$ is the number of logical and non-logical symbols in $\varphi$.

For formulas or terms $\varphi$, $\varphi\occurat{s}{p}$ denotes $\varphi$ with an occurrence of $s$ at position $p$.
$\varphi\occur{s}$ denotes $\varphi$ where the term $s$ occurs on some set of positions $\Phi$. $\varphi\occur{t}$ denotes $\varphi\occur{s}$ where on each position in $\Phi$, $s$ has been replaced by $t$. Due to its vagueness, this notation is mostly used in order to emphasis that the term $s$ does occur in $\varphi$ in some way.



\todo[inline]{substitutions}


A substitution is a mapping of finitely many variables to terms.
We define named substitutions $\sigma$ of a variable $x$ by a term $t$ in a set-style notation $\sigma = \{ x \mapsto t\}$ such that 
$\varphi\sigma$ denotes a formula or term $\varphi$ where each occurrence of the variable $x$ is replaced by the term $t$.
This is done in a capture avoiding manner, i.e.\ if a variable $y$ occurs free in $t$ and $y$ is also bound in $\varphi$ such that a free occurrence of $x$ is in the scope of this quantifier, the bound variable is renamed by a fresh variable.

Unnamed substitution applications are written as $\varphi\subst{x/t}$.
A substitution $\sigma$ is called trivial on $x$ if $x\sigma = x$. Otherwise it is called non-trivial.

In some situations, mappings of infinitely many variables to terms are required. We denote such as infinite substitutions.

The domain of a substitution $\sigma$, designated by $\dom(\sigma)$, is the set $\{x \in V \mid x\sigma \neq x\}$, where $V$ denotes the set of all variables.
We refer to the set $\{x\sigma \mid x\in \dom(\sigma)\}$ as the range of sigma, denoted by $\ran(\sigma)$. \mytodo{remove $\ran$ if not needed}




% the word abstraction has a different meaning already, and this usage is not used except for once
%An \defiemph{abstraction} on the other hand is a mapping of terms to variables. It is denoted by $\varphi\abstractionOp{t/x}$, where $\varphi$ is a formula or term where each occurrence of the term $t$ is replaced by the variable $x$.

A term $s$ is an \defiemph{instance} of a term $t$ if there exists a substitution $\sigma$ such that $t\sigma = s$.
If $s$ is an instance of $t$, then $t$ is an \defiemph{abstraction} of $s$. Note that the abstraction- and instance-relation are reflexive. 
$s$ is a \defiemph{proper} instance (abstraction) of $t$ if $s$ is an instance (abstraction) of $t$ and $s\neq t$. \mytodo{possibly drop ``proper'' if not used}

\todo[inline]{misc}


TODO: define: consistent, satisfiable (also say that they coincide?)

TODO: define prenex formulas with matrix and prefix (ONLY IF IT STILL OCCURS IN FINAL VERSION)

TODO: define prefix of term position: e.g. u in f(c, g(u, x, h(a))) has the prefix f(., g(., ., .)), or possible written as sequence of symbols (algo: always go to parent starting at u)

TODO: free vars: $\FV$ and possibly $\LV$: free lifting vars. probably $\FV$ does not include $\LV$. ($\LV$ only if it is really going to be used)




