\documentclass[,%fontsize=11pt,%
	%landscape,
	%DIV8, % mehr text pro seite als defaultyyp
	%DIV10,
	%DIV=calc,%
	draft=false,% final|draft % draft ist platzsparender (kein code, bilder..)
	%titlepage,
	numbers=noendperiod
	11pt,
	a4paper,
	oneside,% apparently, this should stay below some other parameter to have an effect
	openany,
	%]{scrartcl}
]{memoir}



\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}


%\usepackage[urw-garamond]{mathdesign}

\usepackage{lscape}
\usepackage{stackengine}
\usepackage{enumerate}
\usepackage{paralist}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows,backgrounds,graphs,%
	matrix,patterns,arrows,decorations.pathmorphing,decorations.pathreplacing,%
	positioning,fit,calc,decorations.text,shadows%
}


\input{../latex_header.tex}


% subsections also in toc
\setcounter{tocdepth}{2}
\setsecnumdepth{subsection}


\definethms

\def\proofSkipAmount{ \vskip -0.1em }


%\usepackage{bussproof}

%\usepackage{vaucanson-g}
%\usepackage{amssymb}
\usepackage{latexsym}

% for color-highlighted code
%\usepackage{color} % for grey comments
%\usepackage{alltt}

%\usepackage[doublespacing]{setspace}
%\usepackage[onehalfspacing]{setspace}
%\usepackage[singlespacing]{setspace}


\usepackage{amsthm}


\chapterstyle{madsen}

% define page numbering styles
\makepagestyle{numberCorner}
\makeevenfoot{numberCorner}{\thepage}{}{}
\makeoddfoot{numberCorner}{}{}{\thepage}

\makepagestyle{numberCenter}
%\makeevenfoot{numberCenter}{}{\thepage}{}
%\makeoddfoot{numberCenter}{}{\thepage}{}
%
%\makeevenhead{numberCenter}{\thechapter}{}{\thesection}
%\makeoddhead{numberCenter}{\thesection }{}{\thechapter}
\makeheadrule{numberCenter}{\textwidth}{1pt}

\makeevenhead{numberCenter}{\thepage}{}{\leftmark}
\makeoddhead{numberCenter}{\rightmark}{}{\thepage}


\makeatletter
\makepsmarks{numberCenter}{
	\def\chaptermark##1{\markboth{%
			\ifnum \value{secnumdepth} > -1
			\if@mainmatter
			\chaptername\ \thechapter\ --- %
			\fi
			\fi
	##1}{}}
	\def\sectionmark##1{\markright{%
			\ifnum \value{secnumdepth} > 0
			\thesection. \ %
			\fi
	##1}}
}
\makeatother
\newcommand{\mysetpagestyle}{
	%\pagestyle{numberCorner}
	\pagestyle{numberCenter}
}
\mysetpagestyle





\usepackage{refcheck}

%\settypeblocksize{0.65\stockheight}{0.65\stockwidth}{*}
%\setlrmargins{*}{*}{1.2}
%\setulmargins{*}{*}{1.4}
%\checkandfixthelayout[nearest]


\begin{document}

\tableofcontents

\section{from other pdf}
\begin{lemma}
	\label{lemma:lifting_order_not_relevant}
	Basically $\lifgamma{\lifdeltanovar{\varphi}} = \lifdeltanovar{\lifgamma{\varphi}}$.
\end{lemma}

\clearpage

\section{proof}

\begin{defi}[$\tau(\inference)$]
	For an inference $\inference$ with $\sigma = \mgu(\inference)$, we define the infinite substitution\todo{define infinite substitutions properly and apply definition here}{} $\tau(\inference)$ with $\dom(\tau(\inference)) = \dom(\sigma) \cup \{z_s \mid s\sigma \neq s\}$ as follows for a variable $x$:

	\[
		x\tau(\inference) =
		\begin{cases}
			x\sigma & \text{$x$ is a non-lifting variable} \\
			z_{t\sigma} & \text{$x$ is a lifting variable $z_t$}
		\end{cases} 
	\]
		%\qedhere

	If the inference $\inference$ is clear from the context, we abbreviate $\tau(\inference)$ by $\tau$. 
\end{defi}


\begin{defi}[Incremental lifting]
	Let $\pi$ be a resolution refutation of $\Gamma \cup \Delta$.
	We define $\LI(\pi)$ ($\LIcl(\pi)$) to be $\LI(\square)$ ($\LIcl(\square)$), where $\square$ is the empty clause derived in $\pi$.

	Let $C$ be a clause in $\pi$. 
	For a literal $\lambda$ in $C$, we denote the corresponding literal in $\LIcl(C)$ by $\lambda\cll$, which is exists by lemma~\ref{lemma:li_vs_clause_plus_literals_equal}.

	We define $\LI(C)$ and $\lifiboth{C}$ as follows:

	\begin{itemize}
		\item[Base case.]
			If $C \in \Gamma$, $\LI(C) \defeq \bot$.
			If otherwise $C \in \Delta$, $\LI(C) \defeq \top$.

			In any case, $\lifiboth{C} \defeq \lifboth{C}$.
		\item[Resolution.]

			If the clause $C$ is the result of a resolution step $\inference$ of $C_1: D \lor l$ and $C_2: E \lor \lnot l'$ using a unifier $\sigma$ such that $l\sigma =  l'\sigma$, then define $\LI(C)$ and $\lifiboth{C}$ as follows:

			$\lifiboth{C} \defeq \lifboth{(\lifiboth{C_1} \setminus \{l\cll\})\tau} \spam\lor \lifboth{(\lifiboth{C_2}\setminus \{l\cll'\})\tau} $

			\begin{enumerate}

				\item If $l$ is $\Gamma$-colored:
					$\LI(C) \defeq \lifboth{\LI(C_1)\tau}\spas\lor \lifboth{\LI(C_2)\tau} $

				\item If $l$ is $\Delta$-colored:
					$\LI(C) \defeq \lifboth{\LI(C_1)\tau}\spas\land \lifboth{\LI(C_2)\tau} $

				\item If $l$ is grey:
					$\LI(C) \defeq
					(\lifboth{l\cll\tau} \land \lifboth{\LI(C_2)\tau}) \spas\lor
					(\lnot \lifboth{l'\cll\tau}\land \lifboth{\LI(C_1)\tau })
					$

			\end{enumerate}

		\item[Factorisation.]
			If the clause $C$ is the result of a factorisation step $\inference$ of $C_1: l \lor l' \lor D$ using a unifier $\sigma$ such that $l\sigma = l'\sigma$, then $\LI(C) \defeq \lifboth{\LI(C_1)\tau}$ and $\lifiboth{C} \defeq \lifboth{ (\lifiboth{C_1} \setminus\nolinebreak \{l'\cll\})\tau}$.
			\qedhere

	\end{itemize}

\end{defi}

\begin{lemma}
	\label{lemma:li_vs_clause_plus_literals_equal}
	Let $C$ be a clause in a resolution refutation of $\Gamma\cup\Delta$.

	Then for every literal $\lambda$ in $C$, there exists a literal $\lambda\cll$ in\nolinebreak{} $\LIcl(C)$ such that $\lambda\cll = \lifboth{\lambda}$ and for resolved or factorised literals $l$ and $l'$ of a resolution or factorisation inference $\inference$, we have that $\lifboth{l\cll\tau} = \lifboth{l'\cll\tau}$.
\end{lemma}
\begin{proof}
	We proceed by induction.
	\begin{description}
		\item{} Base case.
			For $C\in\Gamma\cup\Delta$, $\LIcl(C)$ is defined to be $\lifboth{C}$.

		\item{} Resolution/Factorisation.
			Suppose the clause $C$ is the result of a resolution or factorisation inference \inference{} of the clauses $\bbar C$ with $\sigma = \mgu(\inference)$.

			%Suppose the clause $C$ is the result of a resolution step \inference{} of $C_1: D \lor l$ and $C_2: E \lor \lnot l'$ with $\sigma = \mgu(\inference)$.

			For every literal in $C$, there exists a predecessor in a clause in $\bbar C$.
			Let $\lambda$ be a literal $C_i$ with $C_i\in\bbar C$, such that $\lambda$ is not the predecessor of the literal being resolved or factorised in $\inference$.
			Then $\lambda\sigma$ is occurs in $C$.

			By the induction hypothesis, $\lifboth{\lambda}$ occurs in $\LIcl(C_i)$.
			The successor of $\lifboth{\lambda}$ in $\LIcl(C)$ is of the form $\lifboth{\lifboth{\lambda}\tau}$.
			But by Lemma~\ref{lemma:lifting_tau_commute}, this is nothing else than $\lifboth{\lambda\tau}$.
			As no lifting variables occur in $\lambda$, we get by the definition of $\tau$ that 
			$\lifboth{\lambda\tau} = \lifboth{\lambda\sigma}$.

			Let $l$ and $l'$ be the resolved or factorised literals.
			In order to show that $\lifboth{l\cll\tau} = \lifboth{l'\cll\tau}$,
			consider that by the induction hypothesis, this is nothing else than
			$\lifboth{\lifboth{l}\tau} = \lifboth{\lifboth{l'}\tau}$.
			But by applying the same argument as above, this is equivalent to
			$\lifboth{l\sigma} = \lifboth{l'\sigma}$, which is implied by $l\sigma =\nolinebreak l'\sigma$.
			\qedhere

			\begin{comment}
				Let $l$ and $l'$ be the resolved or factorised literals.
				By the induction hypothesis,
				$l\cll = \lifboth{l}$
				and
				$l'\cll = \lifboth{l'}$.

				By a similar reasoning as above, we get that $\lifboth{\lifboth{\lambda}\tau} = \lifboth{\lambda\sigma}$ for any literal $\lambda$ in $\bbar C$.

				$\lifboth{\lambda\cll\tau} = \lifboth{\lifboth{\lambda}\tau}$
				But as $l\sigma = l'\sigma$ and

				$\lifboth{\lifboth{l}\tau } =
				\lifboth{\lifboth{l'}\tau }
				$

				As no lifting variables occur in $l$ or $l'$, we get that $l\tau = l'\tau$, which we can lift to $\lifboth{l\tau} = \lifboth{l'\tau}$.

				Note that $l\sigma = l'\sigma$.

				$l\cll = \lifboth{l}$

				$\lifboth{ \lifboth{l} \tau} = \lifboth{l\tau}$

			\end{comment}
	\end{description}
\end{proof}


\begin{defi}
	$\LIde(C)$ ($\lifidelta{C}$) for a clause $C$ is defined as $\LI(C)$ ($\lifiboth{C}$) with the difference that in its inductive definition, every lifting $\lifboth{\varphi}$ for a formula or term $\varphi$ is replaced by a lifting of only the $\Delta$-terms $\lifdeltanovar{\varphi}$.
\end{defi}

\begin{remark}
	Many results involving $\LI(C)$ ($\LIcl(C)$) are valid for $\LIde(C)$ ($\LIclde(C)$) 
	in a formulation which is adapted accordingly.
	This can easily be seen by the following proof idea:

	Let $f_1, \dots, f_n$ be all $\Gamma$-colored function or constant symbols,
	$c$ a fresh constant symbol and $g$ be a fresh $n$-ary function symbol.
	Construct a formula $t = t$ such that $t = g(t_1, \dots, t_n)$,
	such that $t_i = f_i(c_1, \dots, c_m)$ for $1\varleq i \varleq n$ where $m$ is the arity of $f_i$ and $c_j = c$ for $1\varleq j \varleq m$. Let $\Delta' = \Delta$ and apply the desired result to the initial clause sets $\Gamma$ and $\Delta'$.

	Under this construction, every originally $\Gamma$-colored symbol is now grey, which implies that $\LI(C) = \LIde(C)$ as well as $\LIcl(C) = \LIclde(C)$.
	But $\Delta\entails \varphi \semiff \Delta'\entails \varphi$ for any formula $\varphi$.
\end{remark}

\begin{lemma}
	\label{lemma:no_colored_terms}
	Let $C$ be a clause of a resolution refutation $\pi$ of $\Gamma\cup\Delta$.
	$\LI(C)$ and $\LIcl(C)$ do not contain colored symbols.
	$\LIde(C)$ and $\LIclde(C)$ do not contain \mbox{$\Delta$-c}olored symbols.
\end{lemma}
\begin{proof}
	For $\LI(C)$ and $\LIcl(C)$, consider the following:
	In the base case of the inductive definitions of $\LI(C)$ and $\LIcl(C)$, no colored symbols occur.
	In the inductive steps, any colored symbol which is added by $\tau$ to intermediary formulas is lifted.

	For $\LIde(C)$ and $\LIclde(C)$, a similar argument goes through by reading colored as $\Delta$-colored.
\end{proof}

\begin{lemma}
	\label{lemma:substitute_and_lift}
	Let $\sigma$ be a substitution and $F$ a formula without $\Phi$-colored terms such that for a set of formulas $\Psi$, $\Psi \entails F$.
	Then $\Psi \entails \lifphinovar{F\sigma}$.
\end{lemma}
\begin{proof}
	$\lifphinovar{F\sigma}$ is an instance of $F$:
	$\sigma$ substitutes variables either for terms not containing $\Phi$-colored symbols or by terms containing $\Phi$-colored symbols.
	For the first kind, the lifting has no effect.
	For the latter, the lifting only replaces subterms of the terms introduced by the substitution by a lifting variable such that the original structure of $F$ remains invariant as it by assumption does not contain colored terms.
\end{proof}



\begin{lemma}
	\label{lemma:gamma_proves_pide}
	For a clause $C$ in a resolution refutation of $\Gamma\cup\Delta$, 
	$\Gamma\entails \LIde(C) \lor \lifidelta{C}$.
\end{lemma}
\begin{proof}
	We proceed by induction of the strengthening $\Gamma\entails \LIde(C) \lor \lifidelta{C_\Gamma}$.

	\begin{description}
		\item{} Base case.
			For $C\in\Gamma$, $\LIclde(C_\Gamma) = \lifdeltanovar{C} = C$. Hence $\Gamma \entails \LIclde(C_\Gamma)$.

			For $C\in\Delta$, $\LIde(C) = \top$, so $\Gamma \entails \LIde(C)$.

		\item{} Resolution.
			Suppose the clause $C$ is the result of a resolution step \inference{} of $C_1: D \lor l$ and $C_2: E \lor \lnot l'$ with $\sigma = \mgu(\inference)$.

			\newcommand{\clauseOnePrime}{\LIclde( (C_1)_\Gamma )^*}
			\newcommand{\clauseTwoPrime}{\LIclde( (C_2)_\Gamma )^*}

			We define the following abbreviations:

			$\clauseOnePrime = \LIclde( (C_1)_\Gamma \setminus \{l\cllde\} )$

			$\clauseTwoPrime = \LIclde( (C_2)_\Gamma \setminus \{\lnot l'\cllde\} )$

			Hence the induction hypothesis can be stated as follows:

			$\Gamma \entails \LIde(C_1) \lor \clauseOnePrime \lor (l\cllde)_\Gamma$

			$\Gamma \entails \LIde(C_2) \lor \clauseTwoPrime \lor \lnot (l'\cllde)_\Gamma$

			By Lemma~\ref{lemma:no_colored_terms}, $\LIde(C_i)$ and $\LIclde(C_i)$ for $i\in\{1,2\}$ do not contain $\Delta$-colored terms. 
			Hence we are able to apply Lemma~\ref{lemma:substitute_and_lift} in order to obtain

			$\Gamma \stackrel\markA\entails \lifdeltanovar{\LIde(C_1)\tau} \lor \lifdeltanovar{\clauseOnePrime\tau} \lor \lifdeltanovar{(l\cllde)_\Gamma\tau}$

			$\Gamma \stackrel\markB\entails \lifdeltanovar{\LIde(C_2)\tau} \lor \lifdeltanovar{\clauseTwoPrime\tau} \lor \lnot \lifdeltanovar{(l'\cllde)_\Gamma\tau}$

			By Lemma~\ref{lemma:li_vs_clause_plus_literals_equal}, we obtain that
			$\lifdeltanovar{l\cllde\tau} = 
			\lifdeltanovar{l'\cllde\tau}$.

			Now we distinguish cases based on the color of the resolved literal:

			\begin{itemize}
				\item Suppose that $l$ is $\Gamma$-colored.
					Then as
					$\lifdeltanovar{l\cllde\tau} = 
					\lifdeltanovar{l'\cllde\tau}$, 
					we can perform a resolution step on \markA{} and \markB{}, which gives that
					$\Gamma \entails
					\lifdeltanovar{\LIde(C_1)\tau} \spas\lor \lifdeltanovar{\clauseOnePrime\tau} \spam\lor 
					\lifdeltanovar{\LIde(C_2)\tau} \spas\lor \lifdeltanovar{\clauseTwoPrime\tau}$.
					This however is nothing else than $\Gamma\entails \LIde(C) \lor \LIclde(C)$.

				\item Suppose that $l$ is $\Delta$-colored. Then \markA{} and \markB{} simply to the following:

					$\Gamma \entails \lifdeltanovar{\LIde(C_1)\tau} \lor \lifdeltanovar{\clauseOnePrime\tau}$

					$\Gamma \entails \lifdeltanovar{\LIde(C_2)\tau} \lor \lifdeltanovar{\clauseTwoPrime\tau}$

					These however imply that 
					$\Gamma \entails 
					\clauseOnePrime \spas\lor \clauseTwoPrime \spas\lor\allowbreak
					(\lifdeltanovar{\LIde(C_1)\tau} \land
					\lifdeltanovar{\LIde(C_2)\tau} )$, which is nothing else than
					$\Gamma \entails \LIde(C) \lor \LIclde(C)$.

				\item Suppose that $l$ is grey.
					Suppose that $M$ is a model of $\Gamma$ such that
					%$M\notentails \lifdeltanovar{\LIclde(C_1)\tau} \lor \lifdeltanovar{\LIclde(C_2)\tau}$.
					$M\notentails \LIclde(C)$, i.e.\ 
					$M\notentails \lifdeltanovar{\clauseOnePrime\tau} \lor \lifdeltanovar{\clauseTwoPrime\tau}$.
					Then $M \entails \lifdeltanovar{\LIde(C_1)\tau} \lor \lifdeltanovar{l\cllde\tau}$
					as well as 
					$M \entails \lifdeltanovar{\LIde(C_2)\tau} \lor \lnot \lifdeltanovar{l'\cllde\tau}$.

					Due to $\lifdeltanovar{l\cllde\tau} = 
					\lifdeltanovar{l'\cllde\tau}$,
					we obtain that

					$M\entails (\lifdeltanovar{l\cllde\tau} \land \lifdeltanovar{\LIde(C_2)\tau}) \spam\lor
					(\lnot \lifdeltanovar{l'\cllde\tau} \land \lifdeltanovar{\LIde(C_1)\tau})$,
					which is nothing else than $M\entails \LIde(C)$.

			\end{itemize}



		\item{} Factorisation. 
			Suppose the clause $C$ is the result of a factorisation inference $\inference$ of $C_1: l \lor l' \lor D$ with $\sigma=\mgu(\inference)$.

			We introduce the abbreviation
			$\LIclde( (C_1)_\Gamma)^* = \LIclde( (C_1)\Gamma \setminus \{l\cllde, \lnot l'\cllde\} )$
			and express the induction hypothesis as follows:

			$\Gamma \entails \LIde(C_1) \lor \LIclde( (C_1)_\Gamma)^* \lor (l\cllde)_\Gamma \lor \lnot (l'\cllde)_\Gamma$

			By Lemma~\ref{lemma:no_colored_terms}, $\LIde(C_i)$ and $\LIclde(C_i)$ for $i\in\{1,2\}$ do not contain $\Delta$-colored terms. 
			Hence we are able to apply Lemma~\ref{lemma:substitute_and_lift} in order to obtain

			$\Gamma \stackrel\markC\entails \lifdeltanovar{\LIde(C_1)\tau} \lor \lifdeltanovar{\LIclde( (C_1)_\Gamma)^*\tau} \lor \lifdeltanovar{(l\cllde)_\Gamma\tau} \lor \lnot \lifdeltanovar{(l'\cllde)_\Gamma\tau}$

			As by Lemma~\ref{lemma:li_vs_clause_plus_literals_equal} we get that 
			$\lifdeltanovar{l\cllde\tau} = 
			\lifdeltanovar{l'\cllde\tau}$,
			we can perform a factorisation step on \markC{} to obtain that 
			$\Gamma \entails \lifdeltanovar{\LIde(C_1)\tau} \lor \lifdeltanovar{\LIclde( (C_1)_\Gamma)^*\tau} \lor \lifdeltanovar{(l\cllde)_\Gamma\tau}$.
			But this is nothing else than $\Gamma \entails \LIde(C) \lor \LIclde(C_\Gamma)$.
			\qedhere

	\end{description}
\end{proof}

\begin{defi}[Quantifier block]
	\label{def:arrow_quantifier_block}
	Let $C$ be a clause in a resolution refutation $\pi$ of $\Gamma\cup\Delta$
	and $\bar x$ be the $\Delta$-lifting variables and $\bar y$ the $\Gamma$-lifting variables occurring in $\LI(C)$ and $\lifiboth{C}$.
	$\Q(C)$ denotes an arrangement of the elements of  $\{ \forall x_t \mid\nolinebreak x_t \in \bar x\} \cup \{ \exists y_t \mid y_t \in \bar y\}$ such that for two lifting variable $z_s$ and $z_r$, if $s$ is a subterm of $r$, then $z_s$ is listed before $z_r$.
	We denote $\Q(\square)$ by $\Q(\pi)$.
\end{defi}


\begin{clemma}
	\label{lemma:lifting_tau_commute}
	$\lifboth{\lifboth{ \varphi} \tau} = \lifboth{ \varphi \tau } $.
\end{clemma}
\begin{proof}
	proof by induction.

	Supp constant: done.

	Supp grey function: apply to children.

	supp variable:
	$\lifboth{\lifboth{x}\tau} = \lifboth{x\tau}$

	supp lft var:
	$\lifboth{\lifboth{z_t}\tau} = \lifboth{z_t\tau}$

	supp col term $t$

	$\lifboth{\lifboth{t}\tau} = \lifboth{z_t\tau} = \lifboth{z_{t\sigma}} = z_{t\sigma}
	= \lifboth{t\sigma} = \lifboth{t\tau}$

	%$\lifboth{t\tau} = \lifboth{t\sigma} = z_{t\sigma}$


\end{proof}

\begin{lemma}
	\label{lemma:gamma_lifted_lide}
	For a clause $C$ of a resolution refutation of $\Gamma\cup\Delta$, 
	$\lifgammanovar{\LIde(C) \lor \LIclde(C)} = \LI(C) \lor \LIcl(C)$.
\end{lemma}
\begin{proof}
	\begin{description}
		\item{} Base case.

			$\LIde$: easy.

			$\LIclde$:
			By Lemma~\ref{lemma:lifting_order_not_relevant}, $\lifgammanovar{\lifdeltanovar{C}} = \lifboth{C}$

		\item{} Resolution.

			IH: 

			$\lifgammanovar{\LIde(C_1) \lor \LIclde(C_1)} = \LI(C_1) \lor \LIcl(C_1)$.

			$\lifgammanovar{\LIde(C_2) \lor \LIclde(C_2)} = \LI(C_2) \lor \LIcl(C_2)$.

			~

			$\LIclde$:

			$\lifgammanovar{\LIclde(C_1)} = \LIcl(C_1)$

			$\lifdeltanovar{\LIclde(C_1)\tau} \subseteq \LIclde(C)$ 

			%$C_1\sigma \subseteq C$

			$\lifboth{\LIcl(C_1)\tau} \subseteq \LIcl(C)$

			to show: $\lifgamma{ \LIclde( C)} = \LIcl(C)$

			$ \lifboth{ \lifgammanovar{\LIclde(C_1)} \tau} = \lifboth{ \LIcl(C_1)\tau}$ $\quad$ IH + same op on both sides

			new lemma above

			$ \lifboth{ \lifgammanovar{\LIclde(C_1)} \tau} = 
			\lifboth{ \LIclde(C_1) \tau} $
			~

			$\LIde$:

			\begin{itemize}
				\item Supp $\Gamma$:

					IH: $\lifgammanovar{ \LIde(C_1) } = \LI(C_1)$

					hence also: $\lifboth{ \LIde(C_1) } = \LI(C_1)$ (by lemma: no $\Delta$-terms in \dots)

					+ $\tau$:
					$\lifboth{ \LIde(C_1) }\tau = \LI(C_1)\tau$ 

					+ $\ell$:
					$\lifboth{\lifboth{ \LIde(C_1) }\tau} = \lifboth{\LI(C_1)\tau}$ 

					by new lemma
					$\lifboth{ \LIde(C_1) \tau} = \lifboth{\LI(C_1)\tau}$ 

					hence by Lemma~\ref{lemma:lifting_order_not_relevant}, $\lifgammanovar{\lifdeltanovar{\LIde(C_1)\tau}} \subseteq \LIde(C)$

					hence $\lifgammanovar{\LIde(C)} \subseteq \LIde(C)$



			\end{itemize}




		\item{} Factorisation.
	\end{description}

\end{proof}


\begin{lemma}
	For a clause $C$ of a resolution refutation of $\Gamma\cup\Delta$, 
	$\Gamma\entails \Q(C)(\LI(C) \lor \LIcl(C))$.
\end{lemma}
\begin{proof}
	By Lemma~\ref{lemma:gamma_lifted_lide}
	$\lifgammanovar{ \LIde(C) \lor \LIclde(C)} = \LI(C) \lor \LIcl(C)$.

	By Lemma~\ref{lemma:gamma_proves_pide},
	$\Gamma\entails \LIde(C) \lor \LIclde(C)$. 
	Hence the terms in $\LIde(C) \lor \LIclde(C)$ provide witness terms for the $\Gamma$-lifting variables in $\LI(C) \lor \LIcl(C)$, which are existentially quantified in $\Q(C) (\LI(C) \lor \LIcl(C))$.

	Furthermore, the ordering imposed on the quantifiers in $\Q(C)$ implies that if a $\Delta$-lifting variable $x_s$ occurs in a witness term for a $\Gamma$-lifting variable $y_r$, $y_r$ is quantified in the scope of the quantifier of $x_s$ as $s$ is a subterm of $r$.
	This however ensures that the witness terms are valid.
\end{proof}

\begin{lemma}
	\label{lemma:li_symmetry}
	symmetry: $\Q(C)(\LI(C)) \semiff \Q(\bhat C)(\LI(\bhat C))$.
\end{lemma}
\begin{proof}
	todo: copy from other pdf
\end{proof}

\begin{thm}
	same as other pdf
\end{thm}



\end{document}
